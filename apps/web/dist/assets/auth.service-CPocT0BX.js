import{j as t,r as o,A as s}from"./index-BsIG4eoL.js";function i({children:a,fallback:e}){const r=t.jsx("div",{className:"flex items-center justify-center min-h-screen",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});return t.jsx(o.Suspense,{fallback:e||r,children:a})}async function c(a){const e=await fetch(`${s}/auth/profile`,{headers:{Authorization:`Bearer ${a}`,"Cache-Control":"no-cache"}});if(e.ok||e.status===304)if(e.status===304){const r=await fetch(`${s}/auth/profile?t=${Date.now()}`,{headers:{Authorization:`Bearer ${a}`,"Cache-Control":"no-cache"}});if(r.ok)return await r.json();throw new Error("Failed to fetch profile")}else return await e.json();else throw new Error(`Failed to get profile: ${e.status}`)}export{i as L,c as g};
