import{j as e}from"./index-COKSofT7.js";function c(s){return s.total??s.subjects.reduce((t,a)=>t+a.marks_obtained,0)}function r(s){return s.totalMax??s.subjects.reduce((t,a)=>t+a.max_marks,0)}function g(s){return s.average??(s.subjects.length>0?c(s)/s.subjects.length:0)}function x(s){const t=c(s),a=r(s);return parseFloat(s.overallPercentage)||(a>0?t/a*100:0)}function p(s){if(s.grade)return s.grade;const t=x(s);return t>=90?"A+":t>=80?"A":t>=70?"B+":t>=60?"B":t>=50?"C+":t>=40?"C":"F"}function u({marks:s}){return s.length===0?e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Marks & Grades"}),e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("p",{className:"mb-2",children:"No verified marks available yet."}),e.jsx("p",{className:"text-sm text-gray-400",children:"Marks will appear here once they are verified by the principal or clerk."})]})]}):e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Marks & Grades"}),e.jsx("div",{className:"space-y-6",children:s.map((t,a)=>{const n=c(t),d=r(t),i=g(t),o=x(t),h=p(t);return e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:t.exam.name}),e.jsx("p",{className:"text-gray-600",children:t.exam.term}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[new Date(t.exam.start_date).toLocaleDateString()," - ",new Date(t.exam.end_date).toLocaleDateString()]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Total"}),e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[n.toFixed(0)," / ",d.toFixed(0)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Average"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:i.toFixed(2)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Percentage"}),e.jsxs("p",{className:"text-lg font-bold text-blue-600",children:[o.toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Grade"}),e.jsx("p",{className:"text-lg font-bold text-green-600",children:h})]})]})})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Subject"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Marks Obtained"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Max Marks"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Percentage"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.subjects.map((l,m)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:[l.subject.name,l.subject.code&&e.jsxs("span",{className:"text-gray-500",children:[" (",l.subject.code,")"]})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:l.marks_obtained}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:l.max_marks}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[l.percentage,"%"]})]},m))})]})})]},a)})})]})}export{u as default};
